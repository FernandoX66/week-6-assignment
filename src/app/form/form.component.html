<div class="top-space"></div>
<div class="form-div container">
  <form #f="ngForm" (ngSubmit)="submit(f)">
    <div>
      <label for="name">Name: </label>
      <input
        required
        ngModel
        name="name"
        #name="ngModel"
        id="name"
        type="text"
        placeholder="Name"
        minlength="4"
        maxlength="15"
      />
      <div *ngIf="name.touched && !name.valid" class="error-div">
        <div *ngIf="name.errors?.required">Name is required.</div>
        <div *ngIf="name.errors?.minlength">
          Name should be minimum 4 characters.
        </div>
      </div>
    </div>
    <div>
      <label for="last-name">Last name: </label>
      <input
        required
        ngModel
        name="last-name"
        #lastName="ngModel"
        id="last-name"
        type="text"
        placeholder="Last name"
        minlength="4"
        maxlength="15"
      />
      <div *ngIf="!lastName.valid && lastName.touched" class="error-div">
        <div *ngIf="lastName.errors?.required">Last name is required.</div>
        <div *ngIf="lastName.errors?.minlength">
          Last name should be minimum 4 characters.
        </div>
      </div>
    </div>
    <div>
      <label for="password">Password: </label>
      <input
        required
        ngModel
        name="password"
        #password="ngModel"
        id="password"
        type="password"
        placeholder="Password"
      />
      <div *ngIf="!password.valid && password.touched" class="error-div">
        <div *ngIf="password.errors?.required">Password is required.</div>
      </div>
    </div>
    <div>
      <label for="confirm-password">Confirm password: </label>
      <input
        required
        ngModel
        name="confirm-password"
        #confirmPassword="ngModel"
        id="confirm-password"
        type="password"
        placeholder="Confirm password"
        appPasswordValidator="password"
      />
      <div
        *ngIf="confirmPassword.touched && !confirmPassword.valid"
        class="error-div"
      >
        <div *ngIf="confirmPassword.errors?.required">
          Password confirmation is required.
        </div>
        <div *ngIf="confirmPassword.errors?.passwordValidator">
          Passwords have to match.
        </div>
      </div>
    </div>
    <div>
      <label for="date-of-birth">Date of birth: </label>
      <input
        required
        ngModel
        name="date-of-birth"
        #dateOfBirth="ngModel"
        id="date-of-birth"
        type="date"
        placeholder="Date of birth"
        appDateValidator
      />
      <div *ngIf="dateOfBirth.touched && !dateOfBirth.valid" class="error-div">
        <div *ngIf="dateOfBirth.errors?.required">
          Date of birth is required.
        </div>
        <div *ngIf="dateOfBirth.errors?.dateValidator">
          Date should be less than current one.
        </div>
      </div>
    </div>
    <div>
      <label for="telephone-number">Telephone number: </label>
      <input
        required
        ngModel
        name="telephone-number"
        #telephoneNumber="ngModel"
        id="telephone-number"
        type="number"
        placeholder="Telephone number"
      />
      <div
        *ngIf="!telephoneNumber.valid && telephoneNumber.touched"
        class="error-div"
      >
        <div *ngIf="telephoneNumber.errors?.required">
          Telephone number is required.
        </div>
      </div>
    </div>
    <div>
      <label for="personal-site">Personal site URL: </label>
      <input
        ngModel
        name="personal-site"
        #personalSite="ngModel"
        id="personal-site"
        type="url"
        placeholder="Personal site URL"
        appUrlValidator
      />
      <div
        *ngIf="personalSite.touched && !personalSite.valid"
        class="error-div"
      >
        <div *ngIf="personalSite.errors?.urlValidator">
          Personal site should be URL format.
        </div>
      </div>
    </div>
    <div>
      <label for="about-me">About me: </label>
      <textarea
        ngModel
        name="about-me"
        id="about-me"
        placeholder="About me..."
      ></textarea>
    </div>
    <div class="radio">
      <label>
        <input required ngModel type="radio" name="genre" value="male" />Male
      </label>
    </div>
    <div class="radio">
      <label>
        <input
          required
          ngModel
          type="radio"
          name="genre"
          value="female"
        />Female
      </label>
    </div>
    <div ngModelGroup="address">
      <div>
        <label for="country">Select a country:</label>
        <select required ngModel name="country" #country="ngModel" id="country">
          <option *ngFor="let country of countries" [value]="country">
            {{ country }}
          </option>
        </select>
      </div>
      <div *ngIf="country.dirty">
        <label for="state">Select a state:</label>
        <select
          required
          ngModel
          name="state"
          id="state"
          *ngIf="country.value === 'El Salvador'"
        >
          <option *ngFor="let state of elSalvadorStates" [value]="state">
            {{ state }}
          </option>
        </select>
        <select
          required
          ngModel
          name="state"
          id="state"
          *ngIf="country.value === 'Belize'"
        >
          <option *ngFor="let state of belizeStates" [value]="state">
            {{ state }}
          </option>
        </select>
      </div>
    </div>
    <div class="checkbox">
      <label>
        <input
          required
          ngModel
          type="checkbox"
          name="terms"
          #terms="ngModel"
        />Agree terms and conditions
      </label>
    </div>
    <div *ngIf="terms.touched" class="error-div">
      <div *ngIf="terms.errors?.required">
        You have to agree terms and conditions
      </div>
    </div>
    <button [disabled]="!f.valid">Accept</button>
  </form>
</div>
